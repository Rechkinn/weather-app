@use "sass:math";
// @import "variables";
// @import "media";

$max-Width: 1400;
$min-Width: 360;

@mixin fluid-size($max: 56, $min: 16, $result: "fs") {
  $maxViewportWidth: $max-Width;
  $minViewportWidth: $min-Width;

  $maxSize: math.div($max, 16);
  $minSize: math.div($min, 16);
  $maxWidth: math.div($maxViewportWidth, 16);
  $minWidth: math.div($minViewportWidth, 16);

  $slope-1: ($maxSize - $minSize);
  $slope-2: ($maxWidth - $minWidth);

  $slope: math.div($slope-1, $slope-2);
  $yAxisIntersection: -$minWidth * $slope + $minSize;
  @if ($result == "h") {
    height: clamp(
      #{$minSize * 1rem},
      #{$yAxisIntersection * 1rem} + #{$slope * 100vw},
      #{$maxSize * 1rem}
    );
  } @else {
    font-size: clamp(
      #{$minSize * 1rem},
      #{$yAxisIntersection * 1rem} + #{$slope * 100vw},
      #{$maxSize * 1rem}
    );
  }
}

@mixin media-900() {
  @media (max-width: 900px) {
    @content;
  }
}

@mixin hover-or-active {
  // hover-устройства (обычно десктопы с мышью/трекпадом)
  @media (hover: hover) and (pointer: fine) {
    &:hover {
      @content;
    }
  }

  // touch-устройства без hover (многие смартфоны/планшеты)
  @media (hover: none) and (pointer: coarse) {
    &:active {
      @content;
    }
  }

  // keyboard accessibility — показать эффект при фокусе (напр. таб)
  &:focus-visible {
    @content;
  }
}
